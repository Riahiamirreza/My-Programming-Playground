# https://codegolf.stackexchange.com/questions/267235/ungolf-the-wind 


f = lambda s: ((-1 if (direction:=(s:=s.split()[3])[:3]) == 'VRB' else direction), s[3:5], s[(i:=s.index('G'))+1:i+3] if 'G' in s else -1)


assert f("METAR KPDX 241653Z 16003KT 1/4SM R10R/4500VP6000FT FG SCT000 01/M01 A3040 RMK AO2 SLP293 FG SCT000 T00061006") == ("160", "03", -1) 
assert f("METAR PAMR 241753Z 00000KT 10SM OVC080 00/M02 A2985 RMK AO2 SLP111 T00001017 10022 21006 55003") == ("000", "00", -1) 
assert f("METAR KBOS 241754Z 27012G19KT 10SM FEW045 SCT250 09/M05 A3000 RMK AO2 SLP158 T00941050 10094 20044 56020") == ("270", "12", "19") 
assert f("METAR KGST 241754Z VRB12G19KT 10SM FEW045 SCT250 09/M05 A3000 RMK AO2 SLP158 T00941050 10094 20044 56020") == (-1, "12", "19") 

# another approch suggested by a user in comments:

f = lambda s: [int(''.join(c for c in s.split()[3][i:i+3] if ':'>c) or '-1') for i in (0, 3, 6)]


for t in (
 "METAR KPDX 241653Z 16003KT 1/4SM R10R/4500VP6000FT FG SCT000 01/M01 A3040 RMK AO2 SLP293 FG SCT000 T00061006 $",
 "METAR PAMR 241753Z 00000KT 10SM OVC080 00/M02 A2985 RMK AO2 SLP111 T00001017 10022 21006 55003",
 "METAR KLAX 241653Z VRB05KT 10SM FEW030 SCT060 17/11 A2992 RMK AO2 SLP130 T01720106",
 "METAR KBOS 241754Z 27012G19KT 10SM FEW045 SCT250 09/M05 A3000 RMK AO2 SLP158 T00941050 10094 20044 56020",
 "METAR KGST 241754Z VRB12G19KT 10SM FEW045 SCT250 09/M05 A3000 RMK AO2 SLP158 T00941050 10094 20044 56020",
):
    print(f(t))
